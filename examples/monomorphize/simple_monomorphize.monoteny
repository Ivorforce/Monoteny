-- import(monoteny.dialects.common.0.0);

-- Define a function on 2 numbers.
def {$Number}.square() -> $Number :: self * self;

def @main :: {
    -- Call the generic function with an int32.
    write_line(3.square() 'Int32);
    -- Call the generic function with a float32.
    -- We can monomorphize the function  at compile time and generate 2 specialized functions.
    write_line(3.2.square() 'Float32);
};

def @transpile :: {
    transpiler.add(main);
};
