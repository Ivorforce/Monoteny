-- import(monoteny.dialects.common.0.0);

-- Define a function on 2 numbers.
def {$Number}.square() -> $Number :: self * self;

@main
def main() :: {
    -- Call the generic function with an int32.
    print(3.square() 'Int32);
    -- Call the generic function with a float32.
    -- We can unfold the generics at compile time and generate 2 ungeneric functions.
    print(3.2.square() 'Float32);
}

@transpile
def transpile(transpiler 'Transpiler) :: {
    transpiler.add(main);
}
